# [PCCP 기출문제] 3번 / 아날로그 시계

[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/250135)

## 문제 설명
시침, 분침, 초침이 있는 아날로그 시계에서 특정 시간 구간(`h1:m1:s1` ~ `h2:m2:s2`) 동안 초침이 시침 또는 분침과 겹치는 횟수를 구하는 문제입니다.
- 초침이 시침/분침과 겹칠 때마다 알람이 울립니다.
- 시침, 분침, 초침이 동시에 겹치는 경우(예: 12시 정각)에는 알람이 한 번만 울립니다.

## 해결 방법

이 문제는 시뮬레이션보다는 **수학적 계산**을 통해 접근하는 것이 효율적이고 정확합니다. 초침, 분침, 시침의 각속도를 이용하여 겹치는 주기를 계산하고, 주어진 시간 `t`까지 총 몇 번 겹쳤는지를 계산하는 함수를 만듭니다.

### 핵심 개념

1.  **각속도 및 주기 계산**:
    *   **초침**: 1초에 6도 이동 ($360^\circ / 60s$)
    *   **분침**: 1초에 0.1도 이동 ($360^\circ / 3600s$)
    *   **시침**: 1초에 $1/120$도 이동 ($360^\circ / 43200s$)

2.  **상대 속도와 겹침 주기**:
    *   **초침 vs 분침**:
        *   상대 속도: $6 - 0.1 = 5.9$도/초
        *   겹침 주기: $360 / 5.9 = 3600 / 59$초
    *   **초침 vs 시침**:
        *   상대 속도: $6 - 1/120 = 719 / 120$도/초
        *   겹침 주기: $360 / (719/120) = 43200 / 719$초

3.  **누적 횟수 계산 (`get_count`)**:
    *   0시 0분 0초부터 `t`초까지 초침이 분침/시침과 겹치는 총 횟수를 계산합니다.
    *   횟수 = `int(t * 상대속도 / 360)`
    *   주의: 12시 0분 0초(43200초)와 같이 3개 바늘이 모두 겹치는 경우, 분침과의 겹침과 시침과의 겹침에서 중복 계산되므로 1을 빼주어야 합니다.

4.  **구간 횟수 구하기**:
    *   `[start, end]` 구간의 알람 횟수 = `get_count(end) - get_count(start)`
    *   단, `start` 시각에 정확히 알람이 울리는 경우에는 위 식에서 제외되므로, 별도로 `is_alarm(start)`를 체크하여 1을 더해줍니다.

## Python 풀이

```python
def solution(h1, m1, s1, h2, m2, s2):
    # 시간을 초 단위로 변환
    start = h1 * 3600 + m1 * 60 + s1
    end = h2 * 3600 + m2 * 60 + s2
    
    def get_count(t):
        # 0초부터 t초까지 초침이 분침과 겹치는 횟수
        # 주기: 3600/59 초
        cnt_m = (t * 59) // 3600
        
        # 0초부터 t초까지 초침이 시침과 겹치는 횟수
        # 주기: 43200/719 초
        cnt_h = (t * 719) // 43200
        
        # 12시 정각(43200초) 혹은 그 이후라면 
        # 12시에 분침/시침/초침이 모두 겹치는 케이스가 중복 계산되므로 1회 차감
        # (문제 조건상 24시간 내에서는 12시 정각만 해당됨)
        if t >= 43200:
            return cnt_m + cnt_h - 1
        
        return cnt_m + cnt_h

    def is_alarm(t):
        # t초 시점에 정확히 알람이 울리는지 확인
        # 분침과 겹치는지 확인 (나머지가 0이면 겹침)
        cond1 = (t * 59) % 3600 == 0
        # 시침과 겹치는지 확인
        cond2 = (t * 719) % 43200 == 0
        
        return cond1 or cond2

    # start 직후부터 end까지의 횟수 + start 시점의 알람 여부
    ans = get_count(end) - get_count(start)
    if is_alarm(start):
        ans += 1
        
    return ans
```
