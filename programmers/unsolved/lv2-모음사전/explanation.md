# 모음사전

## 문제 설명
사전에 알파벳 모음 'A', 'E', 'I', 'O', 'U'만을 사용하여 만들 수 있는 길이 5 이하의 모든 단어가 수록되어 있습니다.
주어진 단어 `word`가 사전에서 몇 번째 단어인지 구해야 합니다.
사전 순서는: A, AA, AAA, AAAA, AAAAA, AAAAE, ..., UUUUU 입니다.

### 핵심 개념
1.  **중복 순열 / 완전 탐색**: 단어의 최대 길이는 5이고, 문자는 5개입니다. 전체 단어의 개수는 $5^1 + 5^2 + 5^3 + 5^4 + 5^5 = 3905$개밖에 되지 않습니다. 따라서 모든 단어를 다 생성해서 정렬한 뒤 인덱스를 찾아도 됩니다.
2.  **등비수열의 합 (수학적 접근)**: 각 자릿수가 바뀔 때마다 인덱스가 얼마나 증가하는지 규칙을 찾아서 계산할 수도 있습니다.
    - 첫 번째 자리가 바뀌려면(A -> E) 뒤의 모든 경우의 수를 지나야 합니다.
    - $f(n) = 1 + 5 + 25 + ... + 5^n$ (남은 자릿수에 따른 가중치)

## Python 풀이 (완전 탐색)
가장 쉽고 직관적인 방법은 `product`를 사용하여 모든 경우를 만드는 것입니다.

```python
from itertools import product

def solution(word):
    # 'A', 'E', 'I', 'O', 'U' 로 만들 수 있는 길이 1~5 단어 전수 생성
    dictionary = []
    for length in range(1, 6):
        for p in product(['A', 'E', 'I', 'O', 'U'], repeat=length):
            dictionary.append("".join(p))
            
    # 사전 순 정렬
    dictionary.sort()
    
    # 몇 번째인지 찾기 (리스트 인덱스는 0부터 시작하므로 +1)
    return dictionary.index(word) + 1
```

## Python 풀이 (수학적 규칙)
규칙을 찾으면 더 효율적으로(O(1)) 풀 수 있습니다.

```python
def solution(word):
    answer = 0
    vowels = {'A': 0, 'E': 1, 'I': 2, 'O': 3, 'U': 4}
    
    # 각 자릿수별 가중치 (Gap)
    # 5번째 자리: 1 (바로 다음 글자로 넘어감)
    # 4번째 자리: 1 + 5*1 = 6
    # 3번째 자리: 1 + 5*6 = 31
    # 2번째 자리: 1 + 5*31 = 156
    # 1번째 자리: 1 + 5*156 = 781
    multipliers = [781, 156, 31, 6, 1]
    
    for i, char in enumerate(word):
        # (해당 문자의 순서 * 가중치) + 1(자기 자신)
        # 예: 'E'는 'A' 다음이므로, A... 시리즈를 다 건너뜀.
        answer += vowels[char] * multipliers[i] + 1
        
    return answer
```

### 코드 설명 (수학적 접근)
- `multipliers`는 각 자릿수가 변경될 때 건너뛰어야 하는 단어의 개수입니다.
- 예: 첫 글자가 A에서 E로 바뀌려면, A로 시작하는 모든 단어들(A, AA, ..., AUUUU)을 지나야 합니다. 그 개수가 781개입니다.
- `A`는 0번째이므로 `0 * 781 + 1 = 1번째`.
- `E`는 1번째이므로 `1 * 781 + 1 = 782번째`.
- `+1`을 해주는 이유는, 해당 자리에 문자가 존재한다는 것 자체가 카운트(방문) 1회이기 때문입니다 (A 다음에 AA가 오듯이).
