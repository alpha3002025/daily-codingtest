# 택배 상자 꺼내기

## 문제 설명
[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/389478)

1번부터 n번까지의 택배 상자가 창고에 w개씩 가로로 번갈아가며 쌓여 있습니다.
- 1번째 층: 1번 ~ w번 (왼쪽 -> 오른쪽)
- 2번째 층: w+1번 ~ 2w번 (오른쪽 -> 왼쪽)
- 3번째 층: 2w+1번 ~ 3w번 (왼쪽 -> 오른쪽)
- ... (반복)

특정 택배 상자 번호 `num`이 주어졌을 때, 해당 상자를 꺼내려 합니다. 이때, 해당 상자 위에 있는 상자들을 먼저 모두 꺼내야 합니다. 꺼내야 하는 상자의 총 개수(타겟 상자 포함)를 구해주세요.

## 해결 전략
이 문제는 상자의 배치 규칙을 파악하여 2차원 좌표(행, 열)로 변환하거나, 단순히 각 층에서 몇 번째 위치에 있는지를 파악하여 수직(위쪽)에 있는 상자들의 개수를 세면 됩니다.

상자의 층(행, row)과 열(column)을 구하는 것이 핵심입니다.
- **층(height)**: `(box_num - 1) // w` (0부터 시작)
- **열(col)**: `(box_num - 1) % w`
    - 하지만 짝수 번째 층(0, 2, ...)은 `왼쪽->오른쪽`이므로 열 인덱스가 `remiander` 그대로이고,
    - 홀수 번째 층(1, 3, ...)은 `오른쪽->왼쪽`이므로 열 인덱스가 `w - 1 - remainder`가 됩니다.
    
    또는, 반대로 생각해서
    - `col` 위치를 고정해두고, 각 층마다 해당 `col`에 상자가 존재하는지 확인하여 카운트할 수 있습니다.
    - 해당 `col`에 있는 상자들은 높이만 다를 뿐, 같은 수직선상에 있습니다.
    
    따라서 `num` 상자의 `col`을 먼저 구하고, 그 `col`에 쌓여있는 `num` 이상의 상자 개수를 세면 됩니다.

### 알고리즘 순서
1. `num`이 위치한 층(`h`)과 열(`c`)을 구합니다.
    - `h`는 `(num - 1) // w`
    - `rem` = `(num - 1) % w`
    - 만약 `h % 2 == 0` (짝수 층): `c = rem`
    - 만약 `h % 2 == 1` (홀수 층): `c = w - 1 - rem`
2. `num`이 있는 층부터 꼭대기 층까지 반복문을 돌며 같은 열 `c`에 있는 상자 개수를 셉니다.
    - 각 층(`i`)마다 해당 열(`c`)의 상자 번호를 계산합니다.
    - 짝수 층일 때 번호: `i * w + c + 1`
    - 홀수 층일 때 번호: `i * w + (w - 1 - c) + 1`
    - 계산된 상자 번호가 `n`보다 작거나 같으면 카운트합니다.
    - `n`을 초과하면 더 이상 상자가 없으므로 종료합니다.

## Python 코드

```python
def solution(n, w, num):
    answer = 0
    
    # 1. num의 위치(행, 열) 찾기
    h = (num - 1) // w
    if h % 2 == 0:  # 짝수 층 (왼->오)
        col = (num - 1) % w
    else:           # 홀수 층 (오->왼)
        col = w - 1 - ((num - 1) % w)
    
    # 2. 같은 열에 있는 상자들 세기 (자기 자신 포함 위로)
    current_h = h
    while True:
        # 해당 층, 해당 열의 상자 번호 계산
        if current_h % 2 == 0:
            box_at_c = current_h * w + col + 1
        else:
            box_at_c = current_h * w + (w - 1 - col) + 1
            
        if box_at_c > n:
            break
            
        answer += 1
        current_h += 1
        
    return answer
```

## 배운 점 / 팁
- **좌표 변환**: 지그재그 패턴 문제는 행(Row)의 홀짝 여부에 따라 열(Column) 인덱스 계산이 달라진다는 점을 유의해야 합니다.
- **시뮬레이션**: 규칙을 수식으로 한 번에 계산하려 하기보다, 반복문을 통해 층을 하나씩 올라가며 확인하는 것이 구현 실수를 줄이고 직관적입니다.
