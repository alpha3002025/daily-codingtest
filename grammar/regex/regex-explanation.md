# Python 정규표현식 (Regular Expression) 핵심 정리

`import re`를 통해 사용하는 파이썬의 정규표현식 문법과 자주 쓰이는 패턴들을 정리합니다.

## 1. 메타 문자 (Meta Characters)
- `.` : 줄바꿈 문자를 제외한 모든 문자와 매치
- `^` : 문자열의 시작과 매치
- `$` : 문자열의 끝과 매치
- `*` : 0회 이상 반복 (Greedy)
- `+` : 1회 이상 반복
- `?` : 0회 또는 1회 등장
- `{m}` : m회 반복
- `{m, n}` : m회부터 n회까지 반복
- `[]` : 문자 클래스. 대괄호 안의 문자 중 하나와 매치
  - `[a-z]`: 소문자 전체
  - `[0-9]`: 숫자 전체 (== `\d`)
  - `[^0-9]`: 숫자가 아닌 것 (== `\D`)
- `|` : OR 연산 (A|B)
- `()` : 그룹핑 (Grouping). 매치된 문자열 중 특정 부분만 뽑아낼 때 유용

## 2. 특수 시퀀스 (Special Sequences)
- `\d` : 숫자와 매치 `[0-9]`
- `\D` : 숫자가 아닌 것과 매치 `[^0-9]`
- `\s` : 공백 문자(스페이스, 탭, 엔터 등)와 매치 `[ \t\n\r\f\v]`
- `\S` : 공백 문자가 아닌 것과 매치 `[^ \t\n\r\f\v]`
- `\w` : 문자+숫자(alphanumeric)와 매치 `[a-zA-Z0-9_]` (한글도 포함될 수 있음)
- `\W` : 문자+숫자가 아닌 문자와 매치 `[^a-zA-Z0-9_]`

## 3. 주요 함수 (Methods)

### `re.findall(pattern, string)`
- 문자열에서 패턴과 매치되는 **모든** 부분을 찾아 **리스트**로 반환합니다.
- 가장 많이 사용됩니다.
```python
import re
text = "apple 10 banana 20"
numbers = re.findall(r'\d+', text) # ['10', '20']
```

### `re.sub(pattern, repl, string)`
- 문자열에서 패턴과 매치되는 부분을 다른 문자열(`repl`)로 **교체(치환)**합니다.
```python
import re
text = "010-1234-5678"
safe_text = re.sub(r'\d', '*', text) # ***-****-****
```

### `re.split(pattern, string)`
- 패턴을 기준으로 문자열을 **분리**하여 리스트로 반환합니다. 복잡한 구분자를 처리할 때 유용합니다.
```python
import re
text = "a,b:c;d"
parts = re.split(r'[,:;]', text) # ['a', 'b', 'c', 'd']
```

### `re.search(pattern, string)`
- 문자열 전체를 검색하여 **첫 번째로** 매치되는 구간을 찾습니다. 매치 객체(Match Object)를 반환하며, 없으면 `None`을 반환합니다.
- `group()` 메서드로 매치된 문자열을 가져옵니다.
```python
m = re.search(r'\d+', "abc 123 def")
if m:
    print(m.group()) # '123'
```

### `re.match(pattern, string)`
- 문자열의 **처음부터** 패턴이 매치되는지 확인합니다. 문자열 중간에 있으면 찾지 못합니다.

---

## 4. 정규표현식이 사용된 프로그래머스 문제 목록

`programmers/unsolved` 디렉터리 내에서 정규식을 활용한 문제들입니다.

1.  **[3차] 파일명 정렬** (`lv2-[3차]-파일명-정렬`)
    -   파일명의 `HEAD`, `NUMBER`, `TAIL` 파싱에 사용.
    -   패턴: `r"([a-zA-Z-. ]+)([0-9]{1,5})(.*)"` (그룹핑 활용)

2.  **수식 최대화** (`lv2-수식-최대화`)
    -   숫자와 연산자를 분리하는 데 사용.
    -   `re.split(r'(\D)', expression)` 또는 `re.split(r'([^0-9])', expression)`: 연산자(숫자가 아닌 문자)를 기준으로 분리하되, 괄호`()`를 사용하여 연산자도 결과 리스트에 포함.

3.  **튜플** (`lv2-튜플`)
    -   집합 기호 `{}`로 둘러싸인 문자열에서 숫자만 추출할 때 유용.
    -   `re.findall(r'\d+', s)`: 문자열 내의 모든 숫자를 리스트로 추출.

4.  **불량 사용자** (`lv3-불량-사용자`)
    -   `*` 처리된 아이디(예: `fr*d*`)를 정규식 패턴(예: `^fr.d.$`)으로 변환하여 매칭 여부 확인.
    -   `re.match()` 사용.

5.  **매칭 점수** (`lv3-매칭-점수`)
    -   HTML 태그 파싱, 메타 태그 내 URL 추출, 본문 내 단어 검색 등.
    -   가장 정규식 활용도가 높은 문제 중 하나.
    -   `re.findall(r'<meta property="og:url" content="https://([\S]*)"/>', page)` 등.

6.  **[1차] 다트 게임** (`lv1-다트-게임`)
    -   점수(0~10), 보너스(S,D,T), 옵션(*,#)을 파싱하는 데 정규식이 매우 유용함.
    -   패턴: `r'(\d+)([SDT])([*#]?)'` (점수, 보너스, 옵션을 그룹으로 분리)


# Q & A

**Q. r'([^0-9])' 의 의미와 예시를 설명하세요.**

r'([^0-9])' 는 정규표현식으로, 주로 "숫자가 아닌 문자(연산자 등)를 기준으로 문자열을 자르되, 그 구분자(연산자)도 결과에 포함시키고 싶을 때" 사용합니다.
각 부분의 의미를 쪼개서 설명해 드리겠습니다.

---

**1. 문법별 의미**

*   **r'' (Raw String)**: 백슬래시(\) 등을 이스케이프 문자(예: \n)로 처리하지 않고 문자 그대로 인식하게 합니다. 정규표현식 작성 시 표준적으로 사용합니다.
*   **[] (Character Class)**: 대괄호 안에 나열된 문자들 중 하나와 매치됩니다.
*   **^ (Negation, 부정)**: 대괄호 안의 맨 앞에 쓰이면 "제외(NOT)"를 뜻합니다.
    *   [0-9] : 0부터 9까지의 숫자 중 하나.
    *   [^0-9] : 숫자가 아닌 문자 중 하나 (특수문자, 영어, 한글 등 모두 포함).
*   **() (Capturing Group, 캡처 그룹)**: 매치된 부분을 그룹으로 묶습니다.
    *   re.split() 함수에서 사용하면, 기준이 된 구분자(연산자)를 버리지 않고 결과 리스트에 포함시킵니다.

---

**2. 예시 (re.split 활용)**

수식 "100-200*300" 을 대상으로 비교해 보겠습니다.

① 괄호가 없는 경우: `r'[^0-9]'`

숫자가 아닌 것들을 기준으로 자르기만 합니다. (연산자가 사라집니다.)

```python
import re
expression = "100-200*300"
tokens = re.split(r'[^0-9]', expression)

print(tokens)
# 결과: ['100', '200', '300']
```

② 괄호가 있는 경우: `r'([^0-9])'` (현재 코드 방식)

숫자가 아닌 것들을 기준으로 자르면서, 그 연산자들도 리스트에 남깁니다.

```python
import re
expression = "100-200*300"
tokens = re.split(r'([^0-9])', expression)

print(tokens)
# 결과: ['100', '-', '200', '*', '300']
```

---

**3. 왜 이렇게 쓰나요? (활용법)**

수식 최대화 문제에서는 **피연산자(숫자)**와 연산자를 모두 순서대로 가지고 있어야 계산을 할 수 있습니다. 따라서 ([^0-9]) 를 사용해 한 번에 숫자와 연산자가 번갈아 나오는 리스트를 만듦으로써, 이후 다음과 같이 쉽게 분리할 수 있게 됩니다.

*   tokens[0::2] : ['100', '200', '300'] (숫자만 추출)
*   tokens[1::2] : ['-', '*'] (연산자만 추출)

